(this["webpackJsonpjwt-boilerplate"]=this["webpackJsonpjwt-boilerplate"]||[]).push([[0],{149:function(e,t,n){},150:function(e,t,n){},163:function(e,t,n){},164:function(e,t,n){},165:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(56),o=n.n(c),a=(n(148),n(149),n(10)),s=n(13),i=(n(150),n(7)),l=n.n(i),u=n(12),j=n(22),h=n(16),d=n(1);function p(e){return Object(d.jsx)("span",{className:"error",children:e.error})}function b(){var e=localStorage.getItem("token");e&&(JSON.parse(atob(e.split(".")[1])).exp<Date.now()/1e3&&(localStorage.removeItem("token"),e=null));return e}var f={setToken:function(e){e?localStorage.setItem("token",e):localStorage.removeItem("token")},getToken:b,removeToken:function(){localStorage.removeItem("token")},getUserFromToken:function(){var e=b();return e?JSON.parse(atob(e.split(".")[1])).user:null}},m="/api/users/";var O={signup:function(e){return fetch(m+"signup",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(e.ok)return e.json();throw new Error("Email already taken!")})).then((function(e){var t=e.token;return f.setToken(t)}))},logout:function(){f.removeToken()},login:function(e){return fetch(m+"login",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)}).then((function(e){if(e.ok)return e.json();throw new Error("Bad Credentials!")})).then((function(e){var t=e.token;return f.setToken(t)}))},getUser:function(){return f.getUserFromToken()},getProfile:function(e){return fetch("".concat(m,"username/")+e,{headers:{Authorization:"Bearer "+f.getToken()}}).then((function(e){if(e.ok)return e.json();throw new Error("Bad Credentials")}))},updateProfile:function(e,t){return console.log(e.username),console.log(t),fetch("".concat(m,"username/")+e.username,{method:"PUT",body:t,headers:{Authorization:"Bearer "+f.getToken()}}).then((function(e){if(e.ok)return e.json();throw new Error("Update Failed")}))}},g=n(183),x=n(184),v=n(178),w=n(186),k=n(182);function y(e){var t=Object(r.useState)(""),n=Object(a.a)(t,2),c=n[0],o=n[1],i=Object(r.useState)({username:"",email:"",password:"",passwordConf:""}),b=Object(a.a)(i,2),f=b[0],m=b[1],y=Object(s.g)();function C(e){m(Object(h.a)(Object(h.a)({},f),{},Object(j.a)({},e.target.name,e.target.value)))}function S(){return(S=Object(u.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,O.signup(f);case 4:e.handleSignUpOrLogin(),y.push("/"),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),console.log("handleSubmit error has occured"),console.log(t.t0.message),o(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[1,8]])})))).apply(this,arguments)}return Object(d.jsx)(g.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(d.jsxs)(g.a.Column,{style:{maxWidth:300},children:[Object(d.jsx)(x.a,{as:"h2",color:"teal",textAlign:"center",children:"Sign Up"}),Object(d.jsxs)(v.a,{autoComplete:"off",onSubmit:function(e){return S.apply(this,arguments)},children:[Object(d.jsxs)(w.a,{stacked:!0,children:[Object(d.jsx)(v.a.Input,{name:"username",placeholder:"User Name",value:f.username,onChange:C,required:!0}),Object(d.jsx)(v.a.Input,{name:"email",type:"email",placeholder:"email",value:f.email,onChange:C,required:!0}),Object(d.jsx)(v.a.Input,{name:"password",type:"password",placeholder:"password",value:f.password,onChange:C,required:!0}),Object(d.jsx)(v.a.Input,{name:"passwordConf",type:"password",placeholder:"Confirm Password",value:f.passwordConf,onChange:C,required:!0}),Object(d.jsx)(k.a,{type:"submit",className:"btn",children:"Sign Up"})]}),c?Object(d.jsx)(p,{error:c}):null]})]})})}n(163);var C=n(181),S=n(14);function A(e){var t=Object(r.useState)(""),n=Object(a.a)(t,2),c=n[0],o=n[1],i=Object(r.useState)({email:"",password:""}),b=Object(a.a)(i,2),f=b[0],m=b[1],y=Object(s.g)();function A(e){m(Object(h.a)(Object(h.a)({},f),{},Object(j.a)({},e.target.name,e.target.value)))}function T(){return(T=Object(u.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,O.login(f);case 4:e.handleSignUpOrLogin(),y.push("/"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),o(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))).apply(this,arguments)}return Object(d.jsx)(g.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(d.jsxs)(g.a.Column,{style:{maxWidth:300},children:[Object(d.jsx)(x.a,{as:"h2",color:"teal",textAlign:"center",children:"Log-In to Your Account"}),Object(d.jsx)(v.a,{autoComplete:"off",onSubmit:function(e){return T.apply(this,arguments)},children:Object(d.jsxs)(w.a,{stacked:!0,children:[Object(d.jsx)(v.a.Input,{type:"email",name:"email",placeholder:"email",value:f.email,onChange:A,required:!0}),Object(d.jsx)(v.a.Input,{type:"password",name:"password",placeholder:"password",value:f.password,onChange:A,required:!0}),Object(d.jsx)(k.a,{color:"#a30f4d",fluid:!0,size:"large",type:"submit",className:"btn",children:"LogIn"})]})}),Object(d.jsxs)(C.a,{children:["New to us? ",Object(d.jsx)(S.b,{to:"/signup",children:"Sign Up"})]}),c?Object(d.jsx)(p,{error:c}):null]})})}var T=n(79),P=n(131);function L(e){var t=e.user,n=e.handleLogout;return Object(d.jsxs)(w.a,{clearing:!0,children:[Object(d.jsx)(x.a,{as:"h2",floated:"right",children:Object(d.jsx)(S.b,{to:"",onClick:n,children:Object(d.jsx)(T.a,{name:"log out"})})}),Object(d.jsxs)(x.a,{as:"h2",floated:"left",children:[Object(d.jsx)(S.b,{to:"/username/".concat(t.username),children:Object(d.jsx)(P.a,{src:t.photoUrl[0].photoUrl,avatar:!0})}),Object(d.jsx)(S.b,{to:"/",children:Object(d.jsx)(T.a,{name:"home"})}),Object(d.jsx)(S.b,{to:"/art_feed",children:Object(d.jsx)(T.a,{name:"paint brush"})})]})]})}n(164);function E(e){e.user,e.post;var t=["#0088FE","#00C49F","#FFBB28"],n=Object(r.useState)(0),c=Object(a.a)(n,2),o=c[0],s=c[1],i=Object(r.useRef)(null);function l(){i.current&&clearTimeout(i.current)}return Object(r.useEffect)((function(){return l(),i.current=setTimeout((function(){return s((function(e){return e===t.length-1?0:e+1}))}),2500),function(){l()}}),[o]),Object(d.jsxs)("div",{className:"slideshow",children:[Object(d.jsx)("div",{className:"slideshowSlider",style:{transform:"translate3d(".concat(100*-o,"%, 0, 0)")},children:t.map((function(e,t){return Object(d.jsx)("div",{className:"slide",style:{backgroundColor:e}},t)}))}),Object(d.jsx)("div",{className:"slideshowDots",children:t.map((function(e,t){return Object(d.jsx)("div",{className:"slideshowDot".concat(o===t?" active":""),onClick:function(){s(t)}},t)}))})]})}function I(e){var t=e.user,n=e.handleLogout;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(L,{user:t,handleLogout:n}),Object(d.jsx)(E,{user:t}),Object(d.jsx)("div",{children:Object(d.jsxs)("h3",{children:["Click\xa0",Object(d.jsxs)("span",{children:["\xa0",Object(d.jsx)(S.b,{to:"/art_feed",children:Object(d.jsx)(T.a,{name:"paint brush"})})]}),"to check out more of",Object(d.jsx)("br",{}),"awesome art works!"]})})]})}var N=n(84);function U(e){var t=Object(r.useState)(""),n=Object(a.a)(t,2),c=n[0],o=n[1],s=Object(r.useState)({content:""}),i=Object(a.a)(s,2),l=i[0],u=i[1];return Object(d.jsx)(g.a,{textAlign:"center",verticalAlign:"middle",children:Object(d.jsx)(g.a.Column,{style:{maxWidth:300},children:Object(d.jsx)(w.a,{children:Object(d.jsxs)(v.a,{autoComplete:"off",onSubmit:function(t){t.preventDefault();var n=new FormData;n.append("photo",c),n.append("content",l.content),e.handleAddPost(n)},children:[Object(d.jsx)(v.a.Input,{className:"form-control",name:"content",value:l.content,placeholder:"Details",onChange:function(e){u(Object(h.a)(Object(h.a)({},l),{},Object(j.a)({},e.target.name,e.target.value)))},required:!0}),Object(d.jsx)(v.a.Input,{className:"form-control",type:"file",name:"photo",placeholder:"upload image",onChange:function(e){o(e.target.files[0])}}),Object(d.jsx)(k.a,{type:"submit",className:"btn",children:"Add Post"})]})})})})}var z=n(179),_=n(180),B=n(177),F="/api/posts/";function D(e){return fetch(F,{method:"POST",body:e,headers:{Authorization:"Bearer "+f.getToken()}}).then((function(e){return e.json()}))}function R(){return console.log("getall function is firing"),fetch(F,{headers:{Authorization:"Bearer "+f.getToken()}}).then((function(e){return e.json()}))}function W(e){return console.log("getOne function is firing"),fetch("".concat(F,"posts/")+e,{headers:{Authorization:"Bearer "+f.getToken()}}).then((function(e){return e.json()}))}function J(e,t){return console.log("updatePost function is firing"),console.log(t),fetch("".concat(F,"posts/")+e,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:"Bearer "+f.getToken()}}).then((function(e){return e.json()})).then((function(e){console.log("success:",e)})).catch((function(e){console.log("Error",e)}))}function q(e){return console.log("deletePost function is firing"),fetch("".concat(F,"posts/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer "+f.getToken()}}).then((function(e){if(e.ok)return e.json();new Error("Error has occured while deleting post")}))}function V(e){var t=e.post,n=e.editPost,c=Object(r.useState)({content:""}),o=Object(a.a)(c,2),i=o[0],l=o[1];Object(s.g)();return Object(d.jsx)(z.a.Description,{children:Object(d.jsxs)(v.a,{autoComplete:"off",onSubmit:function(e){e.preventDefault(),console.log(e.target),console.log(i);try{n(t._id,i)}catch(r){console.log(r)}},children:[Object(d.jsx)(v.a.Input,{className:"form-control",name:"content",value:i.content,placeholder:t.content,onChange:function(e){l(Object(h.a)(Object(h.a)({},i),{},Object(j.a)({},e.target.name,e.target.value)))},required:!0}),Object(d.jsx)(k.a,{type:"submit",className:"btn",children:"Edit Post"})]})})}function H(e){var t=e.post,n=e.handleAddComment;console.log(t),console.log(t._id);var c=Object(r.useState)({commentContent:""}),o=Object(a.a)(c,2),s=o[0],i=o[1];function p(){return(p=Object(u.a)(l.a.mark((function e(r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),n(t._id,s);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(d.jsx)(g.a.Row,{children:Object(d.jsxs)(v.a,{autoComplete:"off",onSubmit:function(e){return p.apply(this,arguments)},children:[Object(d.jsx)(v.a.TextArea,{className:"form-control",name:"commentContent",value:s.commentContent,placeholder:"Type your comment here",onChange:function(e){i(Object(h.a)(Object(h.a)({},s),{},Object(j.a)({},e.target.name,e.target.value)))}}),Object(d.jsx)(k.a,{type:"submit",className:"btn",children:"Add Comment"})]})})}function Y(e){var t=e.comment,n=e.editComment;console.log(t),console.log(t._id);var c=Object(r.useState)({commentContent:""}),o=Object(a.a)(c,2),s=o[0],i=o[1];function p(){return(p=Object(u.a)(l.a.mark((function e(r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),n(t._id,s);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(d.jsx)(g.a.Row,{children:Object(d.jsxs)(v.a,{autoComplete:"off",onSubmit:function(e){return p.apply(this,arguments)},children:[Object(d.jsx)(v.a.Input,{className:"form-control",name:"commentContent",value:s.commentContent,placeholder:t.commentContent,onChange:function(e){i(Object(h.a)(Object(h.a)({},s),{},Object(j.a)({},e.target.name,e.target.value)))}}),Object(d.jsx)(k.a,{type:"submit",className:"btn",children:"Edit Comment"})]})})}function G(e){var t=e.comment,n=(e.post,e.user),c=(e.loading,e.editComment),o=e.deleteComment,s=Object(r.useState)(!1),i=Object(a.a)(s,2),l=i[0],u=i[1];return Object(d.jsxs)(g.a.Row,{children:[Object(d.jsx)(g.a.Column,{width:3,children:t.username}),!0===l?Object(d.jsx)(Y,{comment:t,editComment:c}):Object(d.jsx)(g.a.Column,{width:10,children:t.commentContent}),n.username===t.username?Object(d.jsxs)(g.a.Column,{width:3,children:[Object(d.jsx)(T.a,{floated:"right",size:"small",name:"edit outline",color:"black",onClick:function(){u(!1===l?function(){return!0}:function(){return!1})}}),Object(d.jsx)("span",{children:"\xa0"}),Object(d.jsx)(T.a,{floated:"right",size:"small",name:"delete",color:"black",onClick:function(){o(t._id)}})]}):null]},t._id)}function $(e){var t=e.post,n=e.user,r=e.loading,c=e.handleAddComment,o=e.editComment,a=e.deleteComment;return Object(d.jsxs)(g.a,{textAlign:"center",children:[r?Object(d.jsxs)(w.a,{children:[Object(d.jsx)(_.a,{active:!0,inverted:!0,children:Object(d.jsx)(B.a,{size:"small",children:"Loading"})}),Object(d.jsx)(P.a,{src:"https://react.semantic-ui.com/images/wireframe/short-paragraph.png"})]}):null,t.comments.map((function(e){return Object(d.jsx)(G,{comment:e,post:t,user:n,loading:r,editComment:o,deleteComment:a},e._id)})),Object(d.jsx)(H,{post:t,handleAddComment:c})]},t._id)}function K(e){var t=e.post,n=(e.loading,e.showEditForm),r=e.editPost;return Object(d.jsx)(d.Fragment,{children:!1===n?Object(d.jsx)(z.a.Content,{children:Object(d.jsx)(z.a.Description,{children:t.content})}):Object(d.jsx)(V,{post:t,editPost:r})})}function M(e){var t=e.post,n=e.isProfile,c=e.addLike,o=e.removeLike,s=e.addInspiring,i=e.removeInspiring,l=e.isPostView,u=e.user,j=e.editPost,h=e.deletePost,p=e.loading,b=e.contentLoading,f=e.handleAddComment,m=e.editComment,O=e.deleteComment,x=Object(r.useState)(!1),v=Object(a.a)(x,2),k=v[0],y=v[1],C=t.likes.findIndex((function(e){return e.username===u.username})),A=C>-1?function(){return o(t.likes[C]._id)}:function(){return c(t._id)},L=C>-1?"red":"grey",E=t.inspiring.findIndex((function(e){return e.username===u.username})),I=E>-1?function(){return i(t.inspiring[E]._id)}:function(){return s(t._id)},N=E>-1?"red":"grey";return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(z.a,{children:[n?"":Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(z.a.Content,{textAlign:"left",children:[Object(d.jsxs)(S.b,{to:"/username/".concat(u.username),children:[Object(d.jsx)(P.a,{floated:"left",size:"large",avatar:!0,src:t.user.photoUrl[0].photoUrl}),Object(d.jsx)(z.a.Header,{floated:"right",children:t.user.username})]}),l?Object(d.jsx)(d.Fragment,{children:u.username===t.user.username?Object(d.jsxs)(z.a.Content,{textAlign:"right",children:[Object(d.jsx)(T.a,{floated:"right",name:"edit outline",color:"black",onClick:function(){console.log("this will be edit function"),y(!1===k?function(){return!0}:function(){return!1})}}),Object(d.jsx)("span",{children:"\xa0"}),Object(d.jsx)(T.a,{floated:"right",name:"delete",color:"black",onClick:function(){h(t._id)}})]}):""}):""]})}),l?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(P.a,{src:"".concat(t.photoUrl),wrapped:!0,ui:!1}),b?Object(d.jsxs)(w.a,{children:[Object(d.jsx)(_.a,{active:!0,inverted:!0,children:Object(d.jsx)(B.a,{size:"small",children:"Loading"})}),Object(d.jsx)(P.a,{src:"https://react.semantic-ui.com/images/wireframe/short-paragraph.png"})]}):Object(d.jsx)(K,{post:t,showEditForm:k,editPost:j})]}):Object(d.jsxs)(S.b,{to:"/posts/".concat(t._id),children:[Object(d.jsx)(P.a,{src:"".concat(t.photoUrl),wrapped:!0,ui:!0}),Object(d.jsx)(K,{post:t})]}),Object(d.jsx)(z.a.Content,{children:Object(d.jsx)(g.a,{children:Object(d.jsxs)(g.a.Row,{children:[Object(d.jsx)(g.a.Column,{width:3,textAlign:"left",children:Object(d.jsx)(S.b,{to:"/posts/".concat(t._id),children:Object(d.jsx)(T.a,{name:"comments outline",size:"large",color:"grey"})})}),Object(d.jsxs)(g.a.Column,{width:13,textAlign:"right",children:[Object(d.jsx)(T.a,{name:"heart",size:"large",color:L,onClick:A}),t.likes.length," Likes",Object(d.jsx)(T.a,{name:"idea",size:"large",color:N,onClick:I}),t.inspiring.length," Inspiring"]})]})})}),l?Object(d.jsx)(z.a.Content,{children:Object(d.jsx)($,{post:t,user:u,loading:p,handleAddComment:f,editComment:m,deleteComment:O})}):""]},t._id)})}function Q(e){var t=e.posts,n=e.numPhotosCol,r=e.isProfile,c=e.loading,o=e.addLike,a=e.removeLike,s=e.addInspiring,i=e.removeInspiring,l=e.isPostView,u=e.user;return Object(d.jsxs)(z.a.Group,{itemsPerRow:n,stackable:!0,children:[c?Object(d.jsxs)(w.a,{children:[Object(d.jsx)(_.a,{active:!0,inverted:!0,children:Object(d.jsx)(B.a,{size:"small",children:"Loading"})}),Object(d.jsx)(P.a,{src:"https://react.semantic-ui.com/images/wireframe/short-paragraph.png"})]}):null,t.map((function(e){return Object(d.jsx)(M,{post:e,isProfile:r,addLike:o,removeLike:a,addInspiring:s,removeInspiring:i,user:u,isPostView:l},e._id)}))]})}var X="/api/";function Z(e){return fetch("".concat(X,"posts/").concat(e,"/likes"),{method:"POST",headers:{Authorization:"Bearer "+f.getToken()}}).then((function(e){if(e.ok)return e.json();new Error("Error liking Post")}))}function ee(e){return fetch("".concat(X,"likes/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer "+f.getToken()}}).then((function(e){if(e.ok)return e.json();new Error("Error deleting likes post")}))}var te="/api/";function ne(e){return fetch("".concat(te,"posts/").concat(e,"/inspiring"),{method:"POST",headers:{Authorization:"Bearer "+f.getToken()}}).then((function(e){if(e.ok)return e.json();new Error("Error inspiring Post")}))}function re(e){return fetch("".concat(te,"inspiring/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer "+f.getToken()}}).then((function(e){if(e.ok)return e.json();new Error("Error deleting inspiring post")}))}function ce(e){var t=e.user,n=e.handleLogout,c=Object(r.useState)([]),o=Object(a.a)(c,2),s=o[0],i=o[1],j=Object(r.useState)(!1),h=Object(a.a)(j,2),p=h[0],b=h[1];function f(){return(f=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,D(t);case 3:n=e.sent,console.log(n.post," This is new post",n," data var"),i((function(e){return[n.post].concat(Object(N.a)(e))})),b(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return O.apply(this,arguments)}function O(){return(O=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R();case 3:t=e.sent,i(Object(N.a)(t.posts)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0," an error has occoured while getting posts");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function x(){return(x=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,Z(t);case 4:n=e.sent,console.log(n," this is from addLike"),m(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function v(){return(v=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee(t);case 3:e.sent,m(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function w(){return(w=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,ne(t);case 4:n=e.sent,console.log(n," this is from addInspiring"),m(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function k(){return(k=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re(t);case 3:e.sent,m(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){m()}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(L,{user:t,handleLogout:n}),Object(d.jsxs)(g.a,{centered:!0,children:[Object(d.jsx)(g.a.Row,{children:Object(d.jsx)(g.a.Column,{children:Object(d.jsx)("h2",{children:"PageHeader will be here"})})}),Object(d.jsx)(g.a.Row,{children:Object(d.jsx)(g.a.Column,{style:{maxWidth:300},children:Object(d.jsx)(U,{handleAddPost:function(e){return f.apply(this,arguments)}})})}),Object(d.jsx)(g.a.Row,{children:Object(d.jsx)(g.a.Column,{style:{maxWidth:300},children:Object(d.jsx)(Q,{posts:s,numPhotosCol:1,loading:p,isProfile:!1,addLike:function(e){return x.apply(this,arguments)},removeLike:function(e){return v.apply(this,arguments)},addInspiring:function(e){return w.apply(this,arguments)},removeInspiring:function(e){return k.apply(this,arguments)},isPostView:!1,user:t})})})]})]})}function oe(e){var t=e.user,n=Object(r.useState)(""),c=Object(a.a)(n,2),o=c[0],i=c[1],b=Object(r.useState)(""),f=Object(a.a)(b,2),m=f[0],x=f[1],y=Object(r.useState)({bio:""}),C=Object(a.a)(y,2),S=C[0],A=C[1],T=Object(s.g)();function P(){return(P=Object(u.a)(l.a.mark((function e(n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),console.log(S),console.log(m),(r=new FormData).append("photo",m),r.append("bio",S.bio),console.log(r),e.prev=7,e.next=10,O.updateProfile(t,r);case 10:T.push("/username/".concat(t.username)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(7),console.log(e.t0.message),i(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[7,13]])})))).apply(this,arguments)}return Object(d.jsx)(g.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(d.jsx)(g.a.Column,{style:{maxWidth:300},children:Object(d.jsx)(w.a,{stacked:!0,children:Object(d.jsxs)(v.a,{autoComplete:"off",onSubmit:function(e){return P.apply(this,arguments)},children:[Object(d.jsx)(v.a.TextArea,{className:"form-control",name:"bio",value:S.bio,placeholder:"Tell us about you!",onChange:function(e){A(Object(h.a)(Object(h.a)({},S),{},Object(j.a)({},e.target.name,e.target.value)))}}),Object(d.jsx)(v.a.Field,{children:Object(d.jsx)(v.a.Input,{className:"form-control",type:"file",name:"photo",placeholder:"upload your profile picture",onChange:function(e){x(e.target.files[0])}})}),Object(d.jsx)(k.a,{type:"submit",className:"btn",children:"Update Profile"}),o?Object(d.jsx)(p,{error:o}):null]})})})})}function ae(e){var t=e.user;return console.log(t),console.log(" this is user from the profilebio.js"),Object(d.jsx)(g.a,{textAlign:"center",column:1,children:Object(d.jsxs)(g.a.Row,{children:[Object(d.jsxs)(g.a.Column,{style:{minWidth:150},children:[Object(d.jsx)(P.a,{src:"".concat(t.photoUrl[0].photoUrl),avatar:!0,size:"small"}),Object(d.jsx)(w.a,{vertical:!0,children:Object(d.jsx)("h3",{children:t.username})})]}),Object(d.jsxs)(g.a.Column,{textAlign:"center",style:{minWidth:150},children:[Object(d.jsx)(w.a,{children:Object(d.jsxs)("h3",{children:["Bio: ","".concat(t.bio?t.bio:"No Bio Yet")]})}),Object(d.jsx)(w.a,{children:Object(d.jsx)(oe,{user:t})})]})]})})}function se(e){var t=e.user,n=e.handleLogout,c=Object(r.useState)([]),o=Object(a.a)(c,2),i=o[0],j=o[1],h=Object(r.useState)({}),p=Object(a.a)(h,2),b=p[0],f=p[1],m=Object(r.useState)(!0),x=Object(a.a)(m,2),v=x[0],w=x[1],k=Object(r.useState)(""),y=Object(a.a)(k,2),C=y[0],S=y[1],A=Object(s.h)().username;function T(){return P.apply(this,arguments)}function P(){return(P=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.getProfile(A);case 3:t=e.sent,console.log(t," data"),j((function(){return Object(N.a)(t.posts)})),f((function(){return t.user})),w((function(){return!1})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),S("No profile");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function E(){return(E=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,Z(t);case 4:n=e.sent,console.log(n," this is from addLike"),T(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function I(){return(I=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee(t);case 3:e.sent,T(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function U(){return(U=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,ne(t);case 4:n=e.sent,console.log(n," this is from addInspiring"),T(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function z(){return(z=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re(t);case 3:e.sent,T(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){T()}),[]),C?Object(d.jsx)("h1",{children:C}):v?Object(d.jsx)(g.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(d.jsx)(g.a.Column,{style:{maxWidth:450},children:Object(d.jsx)(B.a,{size:"large",active:!0,children:"Loading"})})}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(L,{user:t,handleLogout:n}),Object(d.jsxs)(g.a,{children:[Object(d.jsx)(g.a.Row,{children:Object(d.jsx)(g.a.Column,{children:Object(d.jsx)("h1",{children:"Nav bar will be here"})})}),Object(d.jsx)(g.a.Row,{children:Object(d.jsx)(g.a.Column,{children:Object(d.jsx)(ae,{user:b})})}),Object(d.jsx)(g.a.Row,{centered:!0,children:Object(d.jsx)(g.a.Column,{style:{maxWidth:300},children:Object(d.jsx)(Q,{isProfile:!0,posts:i,numPhotosCol:3,addLike:function(e){return E.apply(this,arguments)},removeLike:function(e){return I.apply(this,arguments)},addInspiring:function(e){return U.apply(this,arguments)},removeInspiring:function(e){return z.apply(this,arguments)},user:t})})})]})]})}var ie="/api/";function le(e,t){return fetch("".concat(ie,"posts/").concat(e,"/comments"),{method:"POST",body:JSON.stringify(t),headers:{"content-Type":"application/json",Authorization:"Bearer "+f.getToken()}}).then((function(e){if(e.ok)return e.json();new Error("Error inspiring Post")}))}function ue(e,t){return fetch("".concat(ie,"comments/").concat(e),{method:"PUT",body:JSON.stringify(t),headers:{"content-Type":"application/json",Authorization:"Bearer "+f.getToken()}}).then((function(e){return e.json()}))}function je(e){return fetch("".concat(ie,"comments/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer "+f.getToken()}}).then((function(e){return e.json()}))}function he(e){var t=e.user,n=e.handleLogout,c=Object(r.useState)([]),o=Object(a.a)(c,2),i=o[0],j=o[1],h=Object(s.h)().id,p=Object(r.useState)(!0),b=Object(a.a)(p,2),f=b[0],m=b[1],O=Object(r.useState)(!1),x=Object(a.a)(O,2),v=x[0],w=x[1],k=Object(s.g)();function y(){return C.apply(this,arguments)}function C(){return(C=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W(h);case 3:t=e.sent,j(t.post),m((function(){return!1})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0," an error has occoured while getting posts");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function S(){return(S=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,Z(t);case 4:n=e.sent,console.log(n," this is from addLike"),y(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function A(){return(A=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee(t);case 3:e.sent,y(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function T(){return(T=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,ne(t);case 4:n=e.sent,console.log(n," this is from addInspiring"),y(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function P(){return(P=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re(t);case 3:e.sent,y(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function E(){return(E=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),console.log(n.content),e.prev=2,w(!0),e.next=6,J(t,n);case 6:e.sent,w(!1),y(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}function I(){return(I=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q(t);case 3:n=e.sent,console.log(n," this is from deleting post"),k.push("/art_feed"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function N(){return(N=Object(u.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),m(!0),e.next=4,le(t,n);case 4:r=e.sent,console.log(r),m((function(){return!1}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(u.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),console.log(n),e.prev=2,m(!0),e.next=6,ue(t,n);case 6:r=e.sent,m(!1),console.log(r," this is from editing Comment"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}function z(){return(z=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,je(t);case 4:n=e.sent,m(!1),console.log(n," this is from deleting post"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){y()}),[f]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(L,{user:t,handleLogout:n}),f?"":Object(d.jsx)(g.a,{textAlign:"center",style:{marginTop:15,height:"90vh"},children:Object(d.jsx)(M,{post:i,addLike:function(e){return S.apply(this,arguments)},removeLike:function(e){return A.apply(this,arguments)},addInspiring:function(e){return T.apply(this,arguments)},removeInspiring:function(e){return P.apply(this,arguments)},user:t,isPostView:!0,editPost:function(e,t){return E.apply(this,arguments)},deletePost:function(e){return I.apply(this,arguments)},loading:f,contentLoading:v,handleAddComment:function(e,t){return N.apply(this,arguments)},editComment:function(e,t){return U.apply(this,arguments)},deleteComment:function(e){return z.apply(this,arguments)}},i._id)})]})}var de=function(){var e=Object(r.useState)(O.getUser()),t=Object(a.a)(e,2),n=t[0],c=t[1];function o(){c(O.getUser())}function i(){O.logout(),c({user:null})}return Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)(s.d,{children:[Object(d.jsx)(s.b,{exact:!0,path:"/login",children:Object(d.jsx)(A,{handleSignUpOrLogin:o})}),Object(d.jsx)(s.b,{exact:!0,path:"/signup",children:Object(d.jsx)(y,{handleSignUpOrLogin:o})}),O.getUser()?Object(d.jsxs)(s.d,{children:[Object(d.jsx)(s.b,{exact:!0,path:"/",children:Object(d.jsx)(I,{user:n,handleLogout:i})}),Object(d.jsx)(s.b,{exact:!0,path:"/art_feed",children:Object(d.jsx)(ce,{user:n,handleLogout:i})}),Object(d.jsx)(s.b,{path:"/username/:username",children:Object(d.jsx)(se,{user:n,handleLogout:i})}),Object(d.jsx)(s.b,{path:"/posts/:id",children:Object(d.jsx)(he,{user:n,handleLogout:i})})]}):Object(d.jsx)(s.a,{to:"/login"})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(d.jsx)(S.a,{children:Object(d.jsx)(de,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[165,1,2]]]);
//# sourceMappingURL=main.72dcd15b.chunk.js.map